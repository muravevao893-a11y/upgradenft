<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
  <meta name="theme-color" content="#0a0b0f">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>UPGRADE NFT</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css?v=2026-02-22-76">

  <script defer src="https://telegram.org/js/telegram-web-app.js"></script>
  <script defer src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
  <script defer src="./app.js?v=2026-02-22-76"></script>
</head>
<body>
  <div id="boot-loader" class="boot-loader" role="status" aria-label="Загрузка">
    <div class="boot-loader-card">
      <div class="boot-loader-logo" aria-hidden="true">
        <svg viewBox="0 0 56 56" focusable="false">
          <path d="M28 6.8h17.6c3.4 0 5.6 3.7 3.9 6.7L31.5 43.8c-1.6 2.8-5.6 2.8-7.2 0L6.5 13.5c-1.7-3 .5-6.7 3.9-6.7H28Zm0 7.4H14.3l13.7 23.3 13.7-23.3H28Z"/>
        </svg>
        <span class="boot-loader-orbit"></span>
      </div>
      <strong class="boot-loader-title">UPGRADE NFT</strong>
      <p class="boot-loader-subtitle">Loading...</p>
      <div class="boot-loader-progress" aria-hidden="true"><span></span></div>
    </div>
  </div>
  <main id="app-shell" class="app-shell">
    <header class="app-header">
      <p class="eyebrow" aria-hidden="true"></p>
      <h1 id="screen-title" aria-hidden="true"></h1>
      <p id="screen-subtitle" class="subtitle" aria-hidden="true"></p>
    </header>
    <div
      id="wallet-bubble"
      class="wallet-bubble hidden"
      role="button"
      tabindex="0"
      aria-haspopup="menu"
      aria-expanded="false"
      aria-label="Wallet actions"
    >
      <span class="wallet-bubble-ton" aria-hidden="true">
        <svg viewBox="0 0 56 56" focusable="false">
          <path d="M28 6.8h17.6c3.4 0 5.6 3.7 3.9 6.7L31.5 43.8c-1.6 2.8-5.6 2.8-7.2 0L6.5 13.5c-1.7-3 .5-6.7 3.9-6.7H28Zm0 7.4H14.3l13.7 23.3 13.7-23.3H28Z"/>
        </svg>
      </span>
      <span class="wallet-bubble-text">
        <span id="wallet-bubble-balance" class="wallet-bubble-balance">-- TON</span>
      </span>
    </div>
    <div id="wallet-menu" class="wallet-menu hidden" role="menu" aria-label="Wallet actions">
      <button id="wallet-disconnect-btn" class="wallet-menu-btn" type="button" role="menuitem">Disconnect wallet</button>
    </div>

    <div class="sections-wrap">
      <section class="tab-section" data-tab-section="tasks">
        <div class="screen simple-screen">
          <div id="tasks-list" class="simple-list"></div>
          <p id="tasks-empty" class="empty-note">Нет активных заданий.</p>
        </div>
      </section>

      <section class="tab-section is-active" data-tab-section="upgrades">
        <div class="screen upgrade-screen is-source-step">
          <div class="upgrade-layout">
            <div class="upgrade-main-col">
              <div id="target-panel" class="target-block">
                <p class="label" aria-hidden="true"></p>
                <div class="list-controls">
                  <input id="target-search" type="search" class="control-input" placeholder="Поиск цели">
                  <select id="target-sort" class="control-select">
                    <option value="value-asc">Цена: дешевые</option>
                    <option value="value-desc">Цена: дорогие</option>
                    <option value="name-asc">Имя: A-Z</option>
                    <option value="name-desc">Имя: Z-A</option>
                  </select>
                </div>
                <div id="target-nft-list" class="target-chip-list"></div>
                <p id="target-empty" class="empty-note hidden">Цели недоступны.</p>
              </div>

              <div class="wheel-zone">
                <div id="chance-ring" class="chance-ring" style="--chance:0">
                  <div class="chance-track" aria-hidden="true"></div>
                  <div class="chance-sheen" aria-hidden="true"></div>
                  <div class="chance-orbit">
                    <svg class="orbit-arrow" viewBox="0 0 14 36" aria-hidden="true" focusable="false">
                      <path d="M7 2v20" />
                      <path d="m2 20 5 12 5-12" />
                    </svg>
                  </div>
                  <div class="chance-core">
                    <strong id="chance-value">0%</strong>
                    <small>Вероятность</small>
                  </div>
                </div>
              </div>

              <p id="math-note" class="math-note">Выбери NFT</p>
              <button id="upgrade-btn" class="primary-btn" type="button">Запустить апгрейд</button>
              <p id="upgrade-result" class="upgrade-result" aria-live="polite"></p>
            </div>

            <div class="upgrade-side-col">
              <h2 id="upgrade-side-title" class="block-title">Мои NFT</h2>
              <div id="own-controls" class="list-controls">
                <input id="own-search" type="search" class="control-input" placeholder="Поиск NFT">
                <select id="own-sort" class="control-select">
                  <option value="value-desc">Цена: дорогие</option>
                  <option value="value-asc">Цена: дешевые</option>
                  <option value="name-asc">Имя: A-Z</option>
                  <option value="name-desc">Имя: Z-A</option>
                </select>
              </div>
              <div id="own-nft-list" class="nft-card-list"></div>
              <p id="own-empty" class="empty-note">NFT не загружены.</p>
              <div id="upgrade-step-actions" class="upgrade-step-actions">
                <button id="upgrade-continue-btn" class="ghost-btn hidden" type="button">Продолжить</button>
                <button id="upgrade-back-btn" class="ghost-btn hidden" type="button">Назад</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="tab-section" data-tab-section="cases">
        <div class="screen simple-screen">
          <div id="cases-list" class="case-list"></div>
          <p id="cases-empty" class="empty-note">Нет кейсов для текущего уровня.</p>
        </div>
      </section>

      <section class="tab-section" data-tab-section="bonuses">
        <div class="screen simple-screen">
          <div id="bonuses-list" class="simple-list"></div>
          <p id="bonuses-empty" class="empty-note">Нет активных бонусов.</p>
        </div>
      </section>

      <section class="tab-section" data-tab-section="profile">
        <div class="screen profile-screen">
          <div class="profile-top">
            <button id="open-settings-btn" class="profile-settings-btn" type="button" aria-label="Open settings">
              <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M4.5 6h15" />
                <path d="M4.5 12h15" />
                <path d="M4.5 18h15" />
                <circle cx="9" cy="6" r="2" />
                <circle cx="15" cy="12" r="2" />
                <circle cx="11" cy="18" r="2" />
              </svg>
            </button>
            <div id="profile-avatar" class="profile-avatar">U</div>
            <div class="profile-meta">
              <h2 id="profile-name">Гость</h2>
              <div class="profile-subline">
                <p id="profile-handle">@guest</p>
                <small id="profile-id" class="profile-id hidden"></small>
              </div>
            </div>
          </div>

          <div class="stat-row">
            <div>
              <span>NFT</span>
              <strong id="stat-nft-count">-</strong>
            </div>
            <div>
              <span>Апгрейдов</span>
              <strong id="stat-upgrades">-</strong>
            </div>
            <div>
              <span>Winrate</span>
              <strong id="stat-winrate">-</strong>
            </div>
          </div>

          <button id="connect-wallet-btn" class="wallet-btn" type="button">
            <span class="wallet-btn-inner">
              <svg class="wallet-btn-icon" viewBox="0 0 56 56" aria-hidden="true" focusable="false">
                <path d="M28 6.8h17.6c3.4 0 5.6 3.7 3.9 6.7L31.5 43.8c-1.6 2.8-5.6 2.8-7.2 0L6.5 13.5c-1.7-3 .5-6.7 3.9-6.7H28Zm0 7.4H14.3l13.7 23.3 13.7-23.3H28Z"/>
              </svg>
              <span class="wallet-btn-text">Подключить кошелек</span>
            </span>
          </button>
          <p id="wallet-short" class="wallet-short">Кошелек не подключен</p>

          <div class="profile-tabs">
            <button class="profile-tab-btn is-active" data-profile-tab="my" type="button">Мои NFT</button>
            <button class="profile-tab-btn" data-profile-tab="dropped" type="button">Выбитые NFT</button>
          </div>

          <div id="my-nft-grid" class="profile-nft-grid is-active" data-profile-grid="my"></div>
          <p id="my-empty" class="empty-note">NFT пока нет.</p>

          <div id="dropped-nft-grid" class="profile-nft-grid" data-profile-grid="dropped"></div>
          <p id="dropped-empty" class="empty-note hidden">Выбитых NFT пока нет.</p>
        </div>
      </section>

      <section class="tab-section" data-tab-section="settings">
        <div class="screen settings-screen">
          <div class="settings-top">
            <button id="settings-back-btn" class="settings-back-btn" type="button" aria-label="Back to profile">
              <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M15.5 4.5 8 12l7.5 7.5" />
                <path d="M9 12h11" />
              </svg>
            </button>
            <h2 id="settings-page-title">Settings</h2>
          </div>

          <div class="settings-list">
            <button id="open-language-from-settings" class="settings-item" type="button" aria-label="Open language settings">
              <span class="settings-item-left">
                <span class="settings-item-icon" aria-hidden="true">
                  <svg viewBox="0 0 24 24" focusable="false">
                    <circle cx="12" cy="12" r="9" />
                    <path d="M3.8 12h16.4" />
                    <path d="M12 3a14.5 14.5 0 0 1 0 18" />
                    <path d="M12 3a14.5 14.5 0 0 0 0 18" />
                    <path d="M5.3 8.2h13.4" />
                    <path d="M5.3 15.8h13.4" />
                  </svg>
                </span>
                <span id="settings-language-title" class="settings-item-title">Language</span>
              </span>
              <span id="settings-language-value" class="settings-item-value">English</span>
            </button>
          </div>
        </div>
      </section>

      <section class="tab-section" data-tab-section="language">
        <div class="screen language-screen">
          <div class="language-top">
            <button id="language-back-btn" class="language-back-btn" type="button" aria-label="Back to profile">
              <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M15.5 4.5 8 12l7.5 7.5" />
                <path d="M9 12h11" />
              </svg>
            </button>
            <h2 id="language-page-title">Languages</h2>
          </div>

          <label class="locale-search-wrap language-search-wrap" for="language-page-search">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <circle cx="10.5" cy="10.5" r="6.5" />
              <path d="M15.5 15.5 20 20" />
            </svg>
            <input id="language-page-search" class="locale-search" type="search" placeholder="Search language or country">
          </label>

          <div id="language-page-list" class="locale-list language-list" role="listbox" aria-label="Languages"></div>
          <p id="language-page-empty" class="locale-empty hidden">Nothing found</p>
        </div>
      </section>
    </div>
  </main>

  <nav class="bottom-nav" aria-label="Навигация">
    <button class="nav-btn" data-tab="tasks" type="button" aria-label="Задания">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <rect x="4" y="3.5" width="16" height="17" rx="2.5" />
        <path d="M9.8 8h6.7" />
        <path d="M9.8 12h6.7" />
        <path d="M9.8 16h6.7" />
        <path d="m6.6 8 1.1 1.1L9.2 7.6" />
        <path d="m6.6 12 1.1 1.1 1.5-1.5" />
        <path d="m6.6 16 1.1 1.1 1.5-1.5" />
      </svg>
      <span>Задания</span>
    </button>

    <button class="nav-btn is-active" data-tab="upgrades" type="button" aria-label="Апгрейды">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M4 16.5 9.2 11l3.4 3.4L20 7" />
        <path d="M15.7 7H20v4.3" />
        <path d="M4 20.5h16" />
      </svg>
      <span>Апгрейды</span>
    </button>

    <button class="nav-btn" data-tab="cases" type="button" aria-label="Кейсы">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M3.5 9.5h17a1 1 0 0 1 1 1V18a2.2 2.2 0 0 1-2.2 2.2H4.7A2.2 2.2 0 0 1 2.5 18v-7.5a1 1 0 0 1 1-1Z" />
        <path d="M8.8 9.5V7.8A1.8 1.8 0 0 1 10.6 6h2.8a1.8 1.8 0 0 1 1.8 1.8v1.7" />
        <path d="M2.5 13.2h19" />
        <path d="M11 13.2v2.4h2v-2.4" />
      </svg>
      <span>Кейсы</span>
    </button>

    <button class="nav-btn" data-tab="bonuses" type="button" aria-label="Бонусы">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <rect x="3.5" y="9" width="17" height="3.4" rx="0.8" />
        <path d="M5.2 12.4h13.6V19a2 2 0 0 1-2 2H7.2a2 2 0 0 1-2-2v-6.6Z" />
        <path d="M12 9v12" />
        <path d="M12 9H9.4A2 2 0 1 1 9.4 5c1.8 0 2.6 1.8 2.6 4Z" />
        <path d="M12 9h2.6a2 2 0 1 0 0-4C12.8 5 12 6.8 12 9Z" />
      </svg>
      <span>Бонусы</span>
    </button>

    <button class="nav-btn profile-nav" data-tab="profile" type="button" aria-label="Вы">
      <span id="nav-avatar" class="nav-avatar">U</span>
      <span>Вы</span>
    </button>
  </nav>
</body>
</html>

