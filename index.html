<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#060912">
  <title>UPGRADE NFT Mini App</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700;800&family=Unbounded:wght@500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
  <script defer src="https://telegram.org/js/telegram-web-app.js"></script>
  <script defer src="./app.js"></script>
</head>
<body>
  <div class="bg-layer" aria-hidden="true"></div>

  <main class="app-shell">
    <header class="app-header reveal delay-1">
      <p class="eyebrow">UPGRADE NFT</p>
      <h1 id="screen-title">Апгрейды</h1>
      <p id="screen-subtitle" class="subtitle">Повышай редкость NFT: шанс на апгрейд или риск потери.</p>
    </header>

    <section class="tab-section is-active reveal delay-2" data-tab-section="upgrades">
      <article class="card upgrade-card">
        <h2>Стол апгрейда</h2>
        <p class="muted">Выбери NFT, настрой шанс и запускай попытку улучшения.</p>

        <div class="nft-preview">
          <div class="nft-ring"></div>
          <div>
            <p class="nft-name">Cyber Fox #197</p>
            <p class="nft-level">Текущий уровень: Rare</p>
          </div>
        </div>

        <div class="chance-row">
          <label for="chance-slider">Шанс успеха</label>
          <output id="chance-value" for="chance-slider">42%</output>
        </div>
        <input id="chance-slider" class="chance-slider" type="range" min="10" max="90" step="1" value="42">

        <p class="risk-text">Если апгрейд не пройдет, NFT может сгореть.</p>
        <button id="upgrade-btn" class="primary-btn" type="button">Запустить апгрейд</button>
        <p id="upgrade-result" class="upgrade-result" aria-live="polite"></p>
      </article>
    </section>

    <section class="tab-section" data-tab-section="tasks">
      <article class="card">
        <h2>Задания</h2>
        <ul class="list">
          <li>
            <span>Подключить кошелек</span>
            <strong>+15 XP</strong>
          </li>
          <li>
            <span>Сделать 1 апгрейд</span>
            <strong>+20 XP</strong>
          </li>
          <li>
            <span>Поделиться ботом</span>
            <strong>+1 билет</strong>
          </li>
        </ul>
      </article>
    </section>

    <section class="tab-section" data-tab-section="cases">
      <article class="card">
        <h2>Кейсы</h2>
        <div class="case-grid">
          <div class="case-tile">
            <p>Starter</p>
            <small>Низкий риск</small>
          </div>
          <div class="case-tile">
            <p>Pro</p>
            <small>Средний риск</small>
          </div>
          <div class="case-tile">
            <p>Legend</p>
            <small>Высокий риск</small>
          </div>
        </div>
      </article>
    </section>

    <section class="tab-section" data-tab-section="bonuses">
      <article class="card">
        <h2>Бонусы</h2>
        <p class="muted">Ежедневный вход и серия дают буст к шансам.</p>
        <div class="bonus-meter">
          <span>Серия входа</span>
          <strong>5 дней</strong>
        </div>
        <div class="bonus-meter">
          <span>Бонус к апгрейду</span>
          <strong>+8%</strong>
        </div>
      </article>
    </section>

    <section class="tab-section" data-tab-section="profile">
      <article class="card profile-card">
        <div class="profile-main">
          <div id="profile-avatar" class="profile-avatar">U</div>
          <div>
            <h2 id="profile-name">Гость</h2>
            <p id="profile-handle" class="muted">@guest</p>
          </div>
        </div>

        <div class="profile-grid">
          <div>
            <span>ID</span>
            <strong id="profile-id">-</strong>
          </div>
          <div>
            <span>Статус</span>
            <strong>Игрок</strong>
          </div>
        </div>

        <p class="muted">Профиль берется из Telegram. Отдельная регистрация не нужна.</p>
      </article>
    </section>
  </main>

  <nav class="bottom-nav reveal delay-3" aria-label="Навигация">
    <button class="nav-btn" data-tab="tasks" type="button" aria-label="Задания">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M7 5h10M7 12h10M7 19h6" />
      </svg>
      <span>Задания</span>
    </button>

    <button class="nav-btn is-active" data-tab="upgrades" type="button" aria-label="Апгрейды">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M12 3v18M5 10l7-7 7 7M5 14l7 7 7-7" />
      </svg>
      <span>Апгрейды</span>
    </button>

    <button class="nav-btn" data-tab="cases" type="button" aria-label="Кейсы">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Zm5-4h8l2 4H6l2-4Z" />
      </svg>
      <span>Кейсы</span>
    </button>

    <button class="nav-btn" data-tab="bonuses" type="button" aria-label="Бонусы">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="m12 3 2.6 5.3L20 9l-4 4 .9 5.6L12 16l-4.9 2.6L8 13 4 9l5.4-.7L12 3Z" />
      </svg>
      <span>Бонусы</span>
    </button>

    <button class="nav-btn profile-nav" data-tab="profile" type="button" aria-label="Вы">
      <span id="nav-avatar" class="nav-avatar">U</span>
      <span>Вы</span>
    </button>
  </nav>
</body>
</html>
